language: scala
jdk: oraclejdk8
sudo: false

before_install:
  - umask 0022

env:
  matrix:
   - SCALA_VERSION='2.11.1' MILL_VERSION='0.2.5'


before_script:
  - mkdir executables
  - cd executables
  - curl -L -o ./mill https://github.com/lihaoyi/mill/releases/download/$MILL_VERSION/$MILL_VERSION
  - chmod +x ./mill
  - touch build.sc
  - $TRAVIS_BUILD_DIR/executables/mill -i resolve _
  - rm build.sc
  - cd -

script:
  - ./executables/mill -i foo.assembly

